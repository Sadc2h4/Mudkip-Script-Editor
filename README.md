# Mudkip-Script-Editor
![type](https://img.shields.io/badge/app-Windows%20Forms-blue?style=flat-square&logo=windows)
![runtime](https://img.shields.io/badge/.NET-6.0%20(or%208.0)-512BD4?style=flat-square&logo=dotnet)
![tfm](https://img.shields.io/badge/TFM-net6.0--windows-0B7285?style=flat-square)

<img src="/img/Screenshot_0.png" width="720" alt="メイン画面">

## ダウンロード
[Release](https://github.com/Sadc2h4/Mudkip-Script-Editor/releases/tag/v1.3a)  
[Pokemon Hack uploader](https://ux.getuploader.com/freehack/download/187)  
<br>
## 概要
本アプリケーションは技情報の編集以外にスクリプトの効果確認，技アニメーションの確認，表示パターンの設定，タイプのチャート編集など，  
技作成の機能に特化した統合ツールとして作成しました．  

ポケモンFR（BPRJ）の技編集ツールとしてはSkillEditor，poke-Syntheなどがありますが，本アプリケーションでは  
技IDごとに情報を個別で取得して編集可能な他，複雑なスクリプトの効果内容やジャンプ先を可視化するなど，バイナリベースでより高度な編集が可能です．  
使いにくい部分もあると思いますが，少なくともバイナリエディタでの直書き込みと比較したら編集が楽な気がします()  

このアプリケーションで実施可能な機能
>・技情報テーブルデータの編集  
・ Romイメージ内の技データをExcelとしてエクスポート  
・技効果スクリプトの内容閲覧，編集  
・技アニメスクリプトの内容閲覧，編集  
・技実行時の言い回しパターン編集  
・タイプ相性チャート閲覧，編集  
・戦闘定型文閲覧  
・Stirlingへの外部参照補助

## 対応拡張子
・.binファイル  
・.gbaファイル  
・.txtファイル  
> [!TIP]
> binファイルを直接読み込むとEffect Info，Animation Infoタブのみ使用可能になります．
> Romイメージに導入前の仮組スクリプトの内容を確認したい際に便利かもしれません

## 使い方
### iniファイルの選択について
<img width="300" height="111" alt="Github_1" src="https://github.com/user-attachments/assets/ea6471fc-aa5e-4898-8e87-d346e763deb9" />

起動直後にiniファイルを選択する必要があります．  
画面上部のini選択プルダウンから読み込みたいRomイメージの選んだうえで読込を実施してください．  
Romイメージの読込は[File Open]ダイアログから行いますが，読み込みたいファイルを直接ドラッグ&ドロップでも可能です．  
正常に読み込みが完了したらエディタに技内容などが表示されるようになります．  

選択するiniはSettingファイルの中から選ぶことが可能です．  
iniを複製して編集したい場合はSettingファイル内の任意のiniフォルダをコピペし，内部のiniファイルを書き換えてください．  

binファイルやdatファイルを直接ドラッグ&ドロップした場合，技テキストや情報などはスキップされて直に  
Effect InfoとAnimation Infoに内容が反映されます．romに紐づく情報の連携や保存は出来ませんが  
Info Openの機能はそのまま使用可能です．作成したスクリプトデータの内容確認に活用できます．  

### searchボタンについて
技名テキストボックスの右にある[search]ボタンを押すと，読み込んだROMイメージに登録されている全技データを一覧で表示することが出来ます．  
SkillEditorと同じような感覚で技一覧を確認することが可能です．（読込データ量が多いため完了までに1~2分ほど時間を要する場合があります）  

### .MSEファイルの出力について
var1.3aから技の編集データをmseファイルとしてエクスポート，またはインポートして反映させることが可能となりました．  
画面上部のインポート，エクスポート項目から選択することで実施が可能です．  
技情報，技スクリプト，アニメーションスクリプト，技名，説明文が入出力の対象となります．技データの共有などに役立つ筈です．  

<br><br>

### アイコンの編集エディタ基本機能について

https://github.com/user-attachments/assets/6a461e93-0e12-4a71-8ed5-f40984c60ef0

<br>
編集用エディタは手持ちアイコンの場合は2つあるフレームを左右に並べて表示されます．  
フレーム2（右）の画像はエディタ上部のつまみを操作することでフレーム1との表示比較をすることが可能です．  
<br>
  
右クリックでスポイト機能のより色を抽出可能です．  
クリックして範囲選択すると，選択箇所を自由に移動させることが出来ます．  
  
選択範囲を直接コピー&ペーストすることはできませんが，外部の画像をコピーしてエディタに張り付けること可能です．  
張り付けられた画像は適切なパレットに自動で入れ替えられるほか，大きさは自動調整されます．  
予めEDGEで編集を行った画像をコピーして直接貼り付けることも可能です．  
<br><br>

### 保存時について
保存ボタンを押すと編集中のアイコンが保存されます．  
フォルダモードの際は『編集中のアイコンフォルダにコピーを作成する』と『このツールと同じ階層に新規で作成する』の２種類から保存形式を選べます．  

> [!TIP]
>Rom読み込みモードの場合はエディタ下部に記載されているオフセットの位置アイコンを反映したうえで，テーブルの参照先を変更先に修正します．  
>また，『新規でgbaファイルを作成する』パターンと『現在のgbaファイルを上書きする』パターンから保存形式を選ぶことが可能です．  
>反映テストをしたい場合などは前者を選ぶなど，状況に応じて使い分けてください．  

> [!WARNING]
>・背景透過モード時は保存するとアイコンも背景色が透過されてしまいます．  
>・Romモードで保存すると一番白いパレットに自動変換されるため注意してください．  

### 足跡アイコンの編集について
<img width="220" height="211" alt="Github_4" src="https://github.com/user-attachments/assets/c15bc6c0-774d-4f4e-8131-9e9e00b6b505" />

Romモードの際のみ表示モードから足跡アイコンの表示が可能です．  
足跡アイコンは対応したポケモンIDの下に足跡アイコンとして表示されるようになり，ダブルクリックすることで専用の編集エディタ画面が表示されます．  
保存時は上記のアイコン保存時と同じ仕様となります．  
<br><br>

### Romからアイコン抽出について
Romモードで起動している際に，読み込んだRomイメージから登録されているアイコンを取得してフォルダに保存します．  
保存されたアイコンは本ツールでフォルダモードで閲覧可能な形式になるため，直接フォルダをドラッグアンドドロップすることで確認も可能です．  
<br><br>

### フォルダ内のアイコンパレット変換について
配布された素材や他の抽出可能なツールで取得したアイコンは大抵の場合32×64になっており本ツールで読み込めないことが多いです．  
また，パレット情報がインデックス化されておらずhackに直接使用できない場合が多いため，この機能でフォルダ内の画像を  
インデックス化済みの32×32にしたbmpファイルに一括変換するためにある機能となります．  
  
作成済みのアイコン画像がインデックス化されていない場合などの際に本機能を使用することで  
一括でアイコンをRom imageに直接反映可能にすることが可能となります．  
<br><br>

### 読込ID数について
Romモードの際に読み込む最大ID数を変えることが出来ます．  
デフォルトでは412が指定されていますが，ポケモン枠の拡張をしている場合は此処の数値を変えてから読み込んでください．  
<br><br>

## 削除方法
・ファイルごと削除してください  

## 配布条件
・本ファイルはフリーです．開発関係者の方々の役に立てれば幸いです．  
・尚，配布により発生した如何なる損害も作者は責任を負いません．  

## 免責
・本ファイルを使用したことにより生じた損害については，一切の責任を負いません．  
